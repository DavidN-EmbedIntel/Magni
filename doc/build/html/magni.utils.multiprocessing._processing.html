<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>magni.utils.multiprocessing._processing module &#8212; Magni 1.7.0 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.7.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="magni.utils.multiprocessing._util module" href="magni.utils.multiprocessing._util.html" />
    <link rel="prev" title="magni.utils.multiprocessing._config module" href="magni.utils.multiprocessing._config.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="magni.utils.multiprocessing._util.html" title="magni.utils.multiprocessing._util module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="magni.utils.multiprocessing._config.html" title="magni.utils.multiprocessing._config module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Magni 1.7.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="magni.html" >magni package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="magni.utils.html" >magni.utils package</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="magni.utils.multiprocessing.html" accesskey="U">magni.utils.multiprocessing package</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-magni.utils.multiprocessing._processing">
<span id="magni-utils-multiprocessing-processing-module"></span><h1>magni.utils.multiprocessing._processing module<a class="headerlink" href="#module-magni.utils.multiprocessing._processing" title="Permalink to this headline">¶</a></h1>
<p>Module providing the process function.</p>
<div class="section" id="routine-listings">
<h2>Routine listings<a class="headerlink" href="#routine-listings" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>process(func, namespace={}, args_list=None, kwargs_list=None, maxtasks=None)</dt>
<dd>Map multiple function calls to multiple processors.</dd>
</dl>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><code class="xref py py-mod docutils literal"><span class="pre">magni.utils.multiprocessing.config</span></code></dt>
<dd>Configuration options.</dd>
</dl>
</div>
<dl class="function">
<dt id="magni.utils.multiprocessing._processing.process">
<code class="descclassname">magni.utils.multiprocessing._processing.</code><code class="descname">process</code><span class="sig-paren">(</span><em>func</em>, <em>namespace={}</em>, <em>args_list=None</em>, <em>kwargs_list=None</em>, <em>maxtasks=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magni/utils/multiprocessing/_processing.html#process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#magni.utils.multiprocessing._processing.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Map multiple function calls to multiple processes.</p>
<p>For each entry in args_list and kwargs_list, a task is formed which is used
for a function call of the type <em class="xref py py-obj">func(*args, **kwargs)</em>. Each task is
executed in a seperate process using the concept of a processing pool.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>function</em>) &#8211; A function handle to the function which the calls should be mapped to.</li>
<li><strong>namespace</strong> (<em>dict, optional</em>) &#8211; A dict whose keys and values should be globally available in func (the
default is an empty dict).</li>
<li><strong>args_list</strong> (<em>list or tuple, optional</em>) &#8211; A sequence of argument lists for the function calls (the default is
None, which implies that no arguments are used in the calls).</li>
<li><strong>kwargs_list</strong> (<em>list or tuple, optional</em>) &#8211; A sequence of keyword argument dicts for the function calls (the
default is None, which implies that no keyword arguments are used in
the calls).</li>
<li><strong>maxtasks</strong> (<em>int, optional</em>) &#8211; The maximum number of tasks of a process before it is replaced by a new
process (the default is None, which implies that processes are not
replaced).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>results</strong> (<em>list</em>) &#8211; A list with the results from the function calls.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal"><span class="pre">BrokenPoolError</span></code> &#8211; If using the <code class="xref py py-obj docutils literal"><span class="pre">concurrent.futures</span></code> module and one or more workers
terminate abrubtly with the automatic broken pool restart funtionality
disabled.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><code class="xref py py-func docutils literal"><span class="pre">magni.utils.multiprocessing.config()</span></code></dt>
<dd>Configuration options.</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>If the <em class="xref py py-obj">workers</em> configuration option is equal to 0, map is used.
Otherwise, the map functionality of a processing pool is used.</p>
<p>Reasons for using this function over map or standard multiprocessing:</p>
<ul class="simple">
<li>Simplicity of the code over standard multiprocessing.</li>
<li>Simplicity in switching between single- and multiprocessing.</li>
<li>The use of both arguments and keyword arguments in the function calls.</li>
<li>The reporting of exceptions before termination.</li>
<li>The possibility of terminating multiprocessing with a single interrupt.</li>
<li>The option of automatically restarting a broken process pool.</li>
</ul>
<p>As of Python 3.2, two different, though quite similar, modules exist in the
standard library for managing processing pools: <code class="xref py py-obj docutils literal"><span class="pre">multiprocessing</span></code> and
<code class="xref py py-obj docutils literal"><span class="pre">concurrent.futures</span></code>. According to Python core contributor Jesse Noller,
the plan is to eventually make concurrent.futures the only interface to the
high level processing pools (futures), whereas multiprocessing is supposed
to serve more low level needs for individually handling processes, locks,
queues, etc. (see <a class="reference external" href="https://bugs.python.org/issue9205#msg132661">https://bugs.python.org/issue9205#msg132661</a>). As of
Python 3.5, both the <code class="xref py py-obj docutils literal"><span class="pre">multiprocessing.Pool</span></code> and
<code class="xref py py-obj docutils literal"><span class="pre">concurrent.futures.ProcessPoolExecutor</span></code> serve almost the same purpose and
provide very similar interfaces. The main differences between the two are:</p>
<ul class="simple">
<li>The option of using a worker initialiser is only available in
<code class="xref py py-obj docutils literal"><span class="pre">multiprocessing</span></code>.</li>
<li>The option of specifing a maximum number of tasks for a worker to execute
before being replaced to free up ressources (the maxtasksperchild option)
is only available in <code class="xref py py-obj docutils literal"><span class="pre">multiprocessing</span></code>.</li>
<li>The option of specifying a context is only available in <code class="xref py py-obj docutils literal"><span class="pre">multiprocessing</span></code></li>
<li><dl class="first docutils">
<dt>&#8220;Reasonable&#8221; handling of abrubt worker termination and exceptions is only</dt>
<dd>available in <code class="xref py py-obj docutils literal"><span class="pre">concurrent.futures</span></code>.</dd>
</dl>
</li>
</ul>
<p>Particularly, the &#8220;reasonable&#8221; handling of a broken process pool may be a
strong argument to prefer <code class="xref py py-obj docutils literal"><span class="pre">concurrent.futures</span></code> over <code class="xref py py-obj docutils literal"><span class="pre">multiprocessing</span></code>. The
matter of handling a broken process pool has been extensively discussed in
<a class="reference external" href="https://bugs.python.org/issue9205">https://bugs.python.org/issue9205</a> which led to the fix for
<code class="xref py py-obj docutils literal"><span class="pre">concurrent.futures</span></code>. A similar fix for <code class="xref py py-obj docutils literal"><span class="pre">multiprocessing</span></code> has been proposed
in <a class="reference external" href="https://bugs.python.org/issue22393">https://bugs.python.org/issue22393</a>.</p>
<p>Both the <code class="xref py py-obj docutils literal"><span class="pre">multiprocessing</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">concurrent.futures</span></code> interfaces are
available for use with this function. If the configuration parameter
<em class="xref py py-obj">prefer_futures</em> is set to True and the <code class="xref py py-obj docutils literal"><span class="pre">concurrent.futures</span></code> module is
available, this is used. Otherwise, the <code class="xref py py-obj docutils literal"><span class="pre">multiprocessing</span></code> module is used. A
Python 2 backport of <code class="xref py py-obj docutils literal"><span class="pre">concurrent.futures</span></code> is available at
<a class="reference external" href="https://pythonhosted.org/futures/">https://pythonhosted.org/futures/</a>.</p>
<p>When using <code class="xref py py-obj docutils literal"><span class="pre">concurrent.futures</span></code>, the <em class="xref py py-obj">namespace</em> and <em class="xref py py-obj">init_args</em> are
ignored since these are not supported by that module. Support for
<em class="xref py py-obj">maxtasks</em> is emulated in a way such that each process on average does
<em class="xref py py-obj">maxtasks</em> before it is restarted. The <em class="xref py py-obj">init_args</em> functionality may be
added later on if an initialiser is added to <code class="xref py py-obj docutils literal"><span class="pre">concurrent.futures</span></code> - see
<a class="reference external" href="http://bugs.python.org/issue21423">http://bugs.python.org/issue21423</a>. If the <em class="xref py py-obj">max_broken_pool_restarts</em>
configuration parameter is set to a value different from 0, the Pool is
automatically restarted and the tasks are re-run should a broken pool be
encountered. If <em class="xref py py-obj">max_broken_pool_restarts</em> is set to 0, a BrokenPoolError
is raised should a broken pool be encountered.</p>
<p>When using <code class="xref py py-obj docutils literal"><span class="pre">multiprocessing</span></code>, the <em class="xref py py-obj">max_broken_pool_restarts</em> is ignored
since the BrokenPoolError handling has not yet been implemented for the
<code class="xref py py-obj docutils literal"><span class="pre">multiprocessing.Pool</span></code> - see <a class="reference external" href="https://bugs.python.org/issue22393">https://bugs.python.org/issue22393</a> as well as
<a class="reference external" href="https://bugs.python.org/issue9205">https://bugs.python.org/issue9205</a>.</p>
<p class="rubric">Examples</p>
<p>An example of how to use args_list and kwargs_list:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">magni</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">magni.utils.multiprocessing._processing</span> <span class="k">import</span> <span class="n">process</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">calculate</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">op</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">op</span> <span class="o">==</span> <span class="s1">&#39;+&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="gp">... </span>    <span class="k">elif</span> <span class="n">op</span> <span class="o">==</span> <span class="s1">&#39;-&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args_list</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs_list</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;+&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;op&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">}]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">process</span><span class="p">(</span><span class="n">calculate</span><span class="p">,</span> <span class="n">args_list</span><span class="o">=</span><span class="n">args_list</span><span class="p">,</span> <span class="n">kwargs_list</span><span class="o">=</span><span class="n">kwargs_list</span><span class="p">)</span>
<span class="go">[12, 6]</span>
</pre></div>
</div>
<p>or the same example preferring <code class="xref py py-obj docutils literal"><span class="pre">concurrent.futures</span></code> over <code class="xref py py-obj docutils literal"><span class="pre">multiprocessing</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">magni</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">multiprocessing</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;prefer_futures&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">process</span><span class="p">(</span><span class="n">calculate</span><span class="p">,</span> <span class="n">args_list</span><span class="o">=</span><span class="n">args_list</span><span class="p">,</span> <span class="n">kwargs_list</span><span class="o">=</span><span class="n">kwargs_list</span><span class="p">)</span>
<span class="go">[12, 6]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="magni.utils.multiprocessing._processing._get_tasks">
<code class="descclassname">magni.utils.multiprocessing._processing.</code><code class="descname">_get_tasks</code><span class="sig-paren">(</span><em>func</em>, <em>args_list</em>, <em>kwargs_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magni/utils/multiprocessing/_processing.html#_get_tasks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#magni.utils.multiprocessing._processing._get_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare a list of tasks.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>function</em>) &#8211; A function handle to the function which the calls should be mapped to.</li>
<li><strong>args_list</strong> (<em>list or tuple, optional</em>) &#8211; A sequence of argument lists for the function calls (the default is
None, which implies that no arguments are used in the calls).</li>
<li><strong>kwargs_list</strong> (<em>list or tuple, optional</em>) &#8211; A sequence of keyword argument dicts for the function calls (the
default is None, which implies that no keyword arguments are used in
the calls).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>tasks</strong> (<em>list</em>) &#8211; The list of tasks.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="magni.utils.multiprocessing._processing._map_using_futures">
<code class="descclassname">magni.utils.multiprocessing._processing.</code><code class="descname">_map_using_futures</code><span class="sig-paren">(</span><em>func</em>, <em>tasks</em>, <em>init_args</em>, <em>maxtasks</em>, <em>max_broken_pool_restarts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magni/utils/multiprocessing/_processing.html#_map_using_futures"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#magni.utils.multiprocessing._processing._map_using_futures" title="Permalink to this definition">¶</a></dt>
<dd><p>Map a set of <em class="xref py py-obj">tasks</em> to <em class="xref py py-obj">func</em> and run them in parallel using a futures.</p>
<p>If <em class="xref py py-obj">max_broken_pool_restarts</em> is different from 0, the tasks must be an
explicit collection, e.g. a list or tuple, for the restart to work. If an
exception occurs in one of the function calls, the process pool terminates
ASAP and re-raises the first exception that occurred. All exceptions that
may have occurred in the workers are available as the last element in the
exceptions args.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>function</em>) &#8211; A function handle to the function which the calls should be mapped to.</li>
<li><strong>tasks</strong> (<em>iterable</em>) &#8211; The list of tasks to use as arguments in the function calls.</li>
<li><strong>init_args</strong> (<em>tuple</em>) &#8211; The (func, namespace) tuple for the _process_init initialisation
function.</li>
<li><strong>maxtasks</strong> (<em>int</em>) &#8211; The maximum number of tasks of a process before it is replaced by a new
process. If set to None, the process is never replaced.</li>
<li><strong>max_broken_pool_restarts</strong> (<em>int or None</em>) &#8211; The maximum number of attempts at restarting the process pool upon a
BrokenPoolError. If set to None, the process pool may restart
indefinitely.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>results</strong> (<em>list</em>) &#8211; The list of results from the map operation.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The <em class="xref py py-obj">namespace</em> and <em class="xref py py-obj">init_args</em> are ignored since these are not supported
by <code class="xref py py-obj docutils literal"><span class="pre">concurrent.futures</span></code>. Support for <em class="xref py py-obj">maxtasks</em> is emulated in a way such
that each process on average does <em class="xref py py-obj">maxtasks</em> before it is restarted. The
<em class="xref py py-obj">init_args</em> functionality may be added if an initialiser is added to
<code class="xref py py-obj docutils literal"><span class="pre">concurrent.futures</span></code> - see <a class="reference external" href="http://bugs.python.org/issue21423">http://bugs.python.org/issue21423</a>.</p>
</dd></dl>

<dl class="function">
<dt id="magni.utils.multiprocessing._processing._map_using_mppool">
<code class="descclassname">magni.utils.multiprocessing._processing.</code><code class="descname">_map_using_mppool</code><span class="sig-paren">(</span><em>func</em>, <em>tasks</em>, <em>init_args</em>, <em>maxtasks</em>, <em>max_broken_pool_restarts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magni/utils/multiprocessing/_processing.html#_map_using_mppool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#magni.utils.multiprocessing._processing._map_using_mppool" title="Permalink to this definition">¶</a></dt>
<dd><p>Map a set of <em class="xref py py-obj">tasks</em> to <em class="xref py py-obj">func</em> and run them in parallel via multiprocessing</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>function</em>) &#8211; A function handle to the function which the calls should be mapped to.</li>
<li><strong>tasks</strong> (<em>iterable</em>) &#8211; The list of tasks to use as arguments in the function calls.</li>
<li><strong>init_args</strong> (<em>tuple</em>) &#8211; The (func, namespace) tuple for the _process_init initialisation
function.</li>
<li><strong>maxtasks</strong> (<em>int</em>) &#8211; The maximum number of tasks of a process before it is replaced by a new
process. If set to None, the process is never replaced.</li>
<li><strong>max_broken_pool_restarts</strong> (<em>int or None</em>) &#8211; The maximum number of attempts at restarting the process pool upon a
BrokenPoolError. If set to None, the process pool may restart
indefinitely.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>results</strong> (<em>list</em>) &#8211; The list of results from the map operation.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The <em class="xref py py-obj">max_broken_pool_restarts</em> is ignored since the BrokenPoolError
handling has not yet been implemented in the multiprocessing.Pool - see
<a class="reference external" href="https://bugs.python.org/issue22393">https://bugs.python.org/issue22393</a> and <a class="reference external" href="https://bugs.python.org/issue9205">https://bugs.python.org/issue9205</a>.</p>
</dd></dl>

<dl class="function">
<dt id="magni.utils.multiprocessing._processing._process_init">
<code class="descclassname">magni.utils.multiprocessing._processing.</code><code class="descname">_process_init</code><span class="sig-paren">(</span><em>func</em>, <em>namespace</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magni/utils/multiprocessing/_processing.html#_process_init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#magni.utils.multiprocessing._processing._process_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialise the process by making global variables available to it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>func</strong> (<em>function</em>) &#8211; A function handle to the function which the calls should be mapped to.</li>
<li><strong>namespace</strong> (<em>dict</em>) &#8211; A dict whose keys and values should be globally available in func.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="magni.utils.multiprocessing._processing._process_worker">
<code class="descclassname">magni.utils.multiprocessing._processing.</code><code class="descname">_process_worker</code><span class="sig-paren">(</span><em>fak_tuple</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/magni/utils/multiprocessing/_processing.html#_process_worker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#magni.utils.multiprocessing._processing._process_worker" title="Permalink to this definition">¶</a></dt>
<dd><p>Unpack and map a task to the function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fak_tuple</strong> (<em>tuple</em>) &#8211; A tuple (func, args, kwargs) containing the parameters listed below.</li>
<li><strong>func</strong> (<em>function</em>) &#8211; A function handle to the function which the calls should be mapped to.</li>
<li><strong>args</strong> (<em>list or tuple</em>) &#8211; The sequence of arguments that should be unpacked and passed.</li>
<li><strong>kwargs</strong> (<em>list or tuple</em>) &#8211; The sequence of keyword arguments that should be unpacked and passed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>If an exception is raised in <em class="xref py py-obj">func</em>, the stacktrace of that exception is
printed since the exception is otherwise silenced until every task has been
executed when using multiple workers.</p>
<p>Also, a workaround has been implemented to allow KeyboardInterrupts to
interrupt the current tasks and all remaining tasks. This is done by
setting a global variable, when catching a KeyboardInterrupt, which is
checked for every call.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">magni.utils.multiprocessing._processing module</a><ul>
<li><a class="reference internal" href="#routine-listings">Routine listings</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="magni.utils.multiprocessing._config.html"
                        title="previous chapter">magni.utils.multiprocessing._config module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="magni.utils.multiprocessing._util.html"
                        title="next chapter">magni.utils.multiprocessing._util module</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="magni.utils.multiprocessing._util.html" title="magni.utils.multiprocessing._util module"
             >next</a> |</li>
        <li class="right" >
          <a href="magni.utils.multiprocessing._config.html" title="magni.utils.multiprocessing._config module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Magni 1.7.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="magni.html" >magni package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="magni.utils.html" >magni.utils package</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="magni.utils.multiprocessing.html" >magni.utils.multiprocessing package</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014-2017, Magni developers.
      Last updated on Mar 01, 2017.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1.
    </div>
  </body>
</html>